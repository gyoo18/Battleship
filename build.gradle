/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.13/samples
 */
//cspell:ignore lwjgl opengl
plugins {
    id 'java'
    id 'application'
}

project.ext.lwjglVersion = "3.3.6"

repositories {
    mavenCentral()
}

dependencies {
	implementation "org.lwjgl:lwjgl:${lwjglVersion}"
    implementation "org.lwjgl:lwjgl-glfw:${lwjglVersion}"
    implementation "org.lwjgl:lwjgl-opengl:${lwjglVersion}"
    runtimeOnly "org.lwjgl:lwjgl:${lwjglVersion}:natives-linux"
    runtimeOnly "org.lwjgl:lwjgl-glfw:${lwjglVersion}:natives-linux"
    runtimeOnly "org.lwjgl:lwjgl-opengl:${lwjglVersion}:natives-linux"
}

sourceSets {
    main {
        java {
            srcDir 'src'
        }
    }
}

distributions{
    main {
        distributionBaseName = 'Battleship'
        contents{
            from 'build/assetFolder'
        }
    }
}

application {
    mainClass = 'App'
}

def copyAssets = tasks.register("copyAssets"){
    dependsOn(processResources)
    copy{
        from "assets"
        into "build/assetFolder/assets"
    }
}

tasks.distTar{
    dependsOn(copyAssets)
}

tasks.distZip{
    dependsOn(copyAssets)
}
